<html layout:decorate="~{usr/layout/layout.html}">
<div id="tagContainer" class="flex justify-center flex-col items-center mt-4" th:fragment="tagSelectFragment">
  <div class="tags flex w-2/5 my-4 justify-center">
    <button class="tag btn btn-outline btn-warning btn-sm">대화하기 좋은</button>
    <button class="tag btn btn-outline btn-warning btn-sm mx-3">깔끔한</button>
    <button class="tag btn btn-outline btn-warning btn-sm">인스타 감성</button>
  </div>
  <div class="tags flex w-2/5 my-4 justify-center">
    <button class="tag btn btn-outline btn-warning btn-sm">주차공간</button>
    <button class="tag btn btn-outline btn-warning btn-sm mx-3">깨끗한 화장실</button>
    <button class="tag btn btn-outline btn-warning btn-sm">넓은 매장</button>
  </div>
  <div class="tags flex w-2/5 my-4 justify-center">
    <button class="tag btn btn-outline btn-warning btn-sm">착한 가격</button>
    <button class="tag btn btn-outline btn-warning btn-sm mx-3">콘센트</button>
    <button class="tag btn btn-outline btn-warning btn-sm">디저트</button>
  </div>
  <div class="tags flex w-2/5 my-4 justify-center">
    <button class="tag btn btn-outline btn-warning btn-sm mr-3">쿠폰적립</button>
    <button class="tag btn btn-outline btn-warning btn-sm">친절한 매장</button>
  </div>
  <script>
    const tagContainer = document.getElementById('tagContainer');
    var selectedBtnCount = 0;
    tagContainer.addEventListener('click', function (e){

      if (e.target.classList.contains('tag')){
        // 버튼 활성화 상태에 따라 count 증감
        if (!e.target.classList.contains('btn-active')) {
          // 이미 5개 선택한 경우
          if (selectedBtnCount >= 5) {
            alert('이미 선호 태그를 최대로 선택하셨습니다!!');
            return;
          }
          e.target.classList.add('btn-active');
          selectedBtnCount++;
        }
        else {
          e.target.classList.remove('btn-active');
          selectedBtnCount--;
        }
      }
    });
  </script>
</div>
</html>