<html layout:decorate="~{usr/layout/layout.html}">

<head>
    <title>카페 정보</title>
</head>

<body>

<main layout:fragment="main" class="flex-grow flex items-center justify-center">
<div class="w-screen h-screen flex flex-col items-center">
    <div class="w-3/4 mt-24 h-4/5">
        <div class="flex justify-between">
            <div class="text-3xl mb-6">⭐️나만의 찜 리스트⭐️</div>
            <div>
                <button class="btn btn-outline btn-warning btn-active btn-md" onclick="location.href = '/map'">
                    <i class="fa-solid fa-map fa-lg mr-1"></i>지도보기
                </button>
            </div>
        </div>
        <div class="flex flex-wrap">
            <div th:if="${!member.wishLists.isEmpty()}" class="flex">
                <div th:each="memberWishList : ${member.wishLists}">
                    <div class="dropdown dropdown-hover no-animation w-20 mr-2">
                        <label tabindex="0" class="btn btn-outline btn-warning m-1" th:text="${memberWishList.wishListTitle}"></label>
                        <ul tabindex="0" class="dropdown-content menu menu-compact text-warning p-2 shadow bg-base-100 rounded-box w-52">
                            <li><a>Item 1</a></li>
                            <li><a>Item 2</a></li>
                            <li><a>Item 3</a></li>
                            <li><a>Item 4</a></li>
                            <li><a>Item 5</a></li>
                        </ul>
                    </div>
                </div>
            </div>


            <div>
                <!-- The button to open modal -->
                <label for="my-modal-4" class="btn btn-active btn-warning mt-1 ml-1"><i class="fa-solid fa-plus"></i></label>

                <!-- Put this part before </body> tag -->
                <input type="checkbox" id="my-modal-4" class="modal-toggle" />
                <label for="my-modal-4" class="modal cursor-pointer">
                    <label class="modal-box relative">
                        <label for="my-modal-4" class="btn btn-sm btn-circle absolute right-2 top-2">✕</label>
                        <h2 class="text-lg font-bold">찜 리스트 생성</h2>
                        <form th:action method="POST" class="pt-4 flex flex-col gap-4 w-full items-center" onsubmit="WishListForm__submit(this); return false;">
                            <div class="w-full h-20">
                                <textarea class="textarea textarea-warning w-full h-3" name="content" maxlength="10" placeholder="찜제목을 작성해 주세요."></textarea>
                            </div>
                            <div>
                                <input type="submit" value="만들기" class="btn btn-warning btn-active">
                            </div>
                        </form>
                    </label>
                </label>

            </div>
        </div>

    </div>

    <div class="w-2/5 flex justify-center">

    </div>

</div>
<script>
    function WishListForm__submit(form) {
        // content 이(가) 올바른지 체크

        form.content.value = form.content.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

        if (form.content.value.length === 0) {
            toastWarning('찜 제목을 작성해주세요.');
            form.content.focus();
            return;
        }

        if (form.content.value.length < 3) {
            toastWarning('찜 제목을 3글자 이상 입력해주세요.');
            form.content.focus();
            return;
        }

        form.submit(); // 폼 발송
    }
    function WishListEditForm__submit(form) {
        // content 이(가) 올바른지 체크

        form.content.value = form.content.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

        if (form.content.value.length === 0) {
            toastWarning('찜 제목을 작성해주세요.');
            form.content.focus();
            return;
        }

        if (form.content.value.length < 3) {
            toastWarning('찜 제목을 3글자 이상 입력해주세요.');
            form.content.focus();
            return;
        }

        form.submit(); // 폼 발송
    }
</script>
</main>
</body>
</html>